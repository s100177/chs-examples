# Agents configuration for PID control comparison
agents:
  # Strategy 1: Local Control
  - id: gate1_local_controller
    class: core_lib.local_agents.control.unified_local_control_agent.UnifiedLocalControlAgent
    config:
      dt: 10
      target_component: gate_1
      control_type: pid
      data_sources:
        observation_topic: canal_1/water_level
      control_targets:
        action_topic: gate_1/opening
      allocation_config:
        method: direct
      controller_config:
        class: PIDController
        config:
          Kp: 0.5
          Ki: 0.05
          Kd: 0.1
          setpoint: 5.0
          min_output: 0.0
          max_output: 1.0

  - id: gate2_local_controller
    class: core_lib.local_agents.control.unified_local_control_agent.UnifiedLocalControlAgent
    config:
      dt: 10
      target_component: gate_2
      control_type: pid
      data_sources:
        observation_topic: canal_2/water_level
      control_targets:
        action_topic: gate_2/opening
      allocation_config:
        method: direct
      controller_config:
        class: PIDController
        config:
          Kp: 0.5
          Ki: 0.05
          Kd: 0.1
          setpoint: 4.5
          min_output: 0.0
          max_output: 1.0

  # Strategy 2: Distant Downstream Control
  - id: gate1_distant_controller
    class: core_lib.local_agents.control.unified_local_control_agent.UnifiedLocalControlAgent
    config:
      dt: 10
      target_component: gate_1
      control_type: pid
      data_sources:
        observation_topic: canal_2/water_level
      control_targets:
        action_topic: gate_1/opening
      allocation_config:
        method: direct
      controller_config:
        class: PIDController
        config:
          Kp: 0.4
          Ki: 0.02
          Kd: 0.1
          setpoint: 4.5
          min_output: 0.0
          max_output: 1.0

  - id: gate2_distant_controller
    class: core_lib.local_agents.control.unified_local_control_agent.UnifiedLocalControlAgent
    config:
      dt: 10
      target_component: gate_2
      control_type: pid
      data_sources:
        observation_topic: canal_3/water_level
      control_targets:
        action_topic: gate_2/opening
      allocation_config:
        method: direct
      controller_config:
        class: PIDController
        config:
          Kp: 0.4
          Ki: 0.02
          Kd: 0.1
          setpoint: 4.0
          min_output: 0.0
          max_output: 1.0

  # Strategy 3: Mixed Control
  - id: gate1_mixed_controller
    class: core_lib.local_agents.control.unified_local_control_agent.UnifiedLocalControlAgent
    config:
      dt: 10
      target_component: gate_1
      control_type: pid
      data_sources:
        observation_topic: canal_1/water_level
      control_targets:
        action_topic: gate_1/opening
      allocation_config:
        method: direct
      controller_config:
        class: PIDController
        config:
          Kp: 0.5
          Ki: 0.05
          Kd: 0.1
          setpoint: 5.0
          min_output: 0.0
          max_output: 1.0

  - id: gate2_mixed_controller
    class: core_lib.local_agents.control.unified_local_control_agent.UnifiedLocalControlAgent
    config:
      dt: 10
      target_component: gate_2
      control_type: pid
      data_sources:
        observation_topic: canal_3/water_level
      control_targets:
        action_topic: gate_2/opening
      allocation_config:
        method: direct
      controller_config:
        class: PIDController
        config:
          Kp: 0.4
          Ki: 0.02
          Kd: 0.1
          setpoint: 4.0
          min_output: 0.0
          max_output: 1.0
