# 来水变化扰动场景配置
# 模拟上游水库入流的动态变化

disturbance_scenario:
  name: "Inflow_Variation_Disturbance"
  description: "模拟上游水库入流的季节性和突发性变化"
  type: "inflow_variation"
  category: "hydrological"
  
  # 扰动参数配置
  parameters:
    # 基准入流
    baseline_inflow: 100.0          # 基准入流 (m³/s)
    
    # 变化模式配置
    variation_patterns:
      seasonal_variation:
        description: "季节性变化"
        amplitude: 60.0             # 变化幅度 (m³/s) - 增强
        period: 21600               # 周期6小时 (秒)
        phase_shift: 0              # 相位偏移
        
      daily_fluctuation:
        description: "日内波动"
        amplitude: 30.0             # 变化幅度 (m³/s) - 增强
        period: 3600                # 周期1小时 (秒)
        phase_shift: 1800           # 相位偏移30分钟
        
      random_noise:
        description: "随机噪声"
        noise_type: "gaussian"
        mean: 0.0
        std_deviation: 15.0         # 标准差 (m³/s) - 增强
        
      extreme_events:
        description: "极端事件"
        events:
          - type: "flood"
            start_time: 10800       # 3小时后开始
            duration: 3600          # 持续1小时
            peak_inflow: 300.0      # 峰值入流 (m³/s)
            rise_time: 900          # 上升时间15分钟
            fall_time: 2700         # 下降时间45分钟
            
          - type: "drought"
            start_time: 25200       # 7小时后开始
            duration: 7200          # 持续2小时
            minimum_inflow: 20.0    # 最小入流 (m³/s)
            transition_time: 1800   # 过渡时间30分钟
            
          - type: "sudden_change"
            start_time: 43200       # 12小时后开始
            duration: 1800          # 持续30分钟
            target_inflow: 200.0    # 目标入流 (m³/s)
            change_rate: 2.0        # 变化率 (m³/s²)
    
    # 影响的组件
    affected_components:
      - component_id: "Upstream_Reservoir"
        parameter: "inflow"
        
  # 触发条件
  trigger_conditions:
    start_time: 0                   # 仿真开始即触发
    duration: 86400                 # 持续24小时
    trigger_type: "continuous"
    
  # 水文预报配置
  forecasting:
    enable_forecast: true
    forecast_horizon: 3600          # 预报时长1小时
    forecast_accuracy: 0.85         # 预报精度85%
    update_interval: 300            # 更新间隔5分钟
    uncertainty_bounds:
      lower_bound: 0.9              # 下界90%
      upper_bound: 1.1              # 上界110%
    
  # 性能指标监测
  monitoring:
    metrics:
      - "reservoir_water_level"
      - "downstream_flow_stability"
      - "gate_operation_frequency"
      - "system_response_time"
      - "control_effort"
    sampling_interval: 60           # 采样间隔1分钟
    
    # 关键阈值
    critical_thresholds:
      max_water_level: 25.0         # 最大水位 (m)
      min_water_level: 5.0          # 最小水位 (m)
      max_outflow_rate: 250.0       # 最大出流率 (m³/s)
      min_outflow_rate: 10.0        # 最小出流率 (m³/s)
    
  # 预期影响评估
  expected_impact:
    severity: "high"
    affected_components:
      - "上游水库"
      - "整个渠系"
      - "控制系统"
      - "下游用水"
    impact_description: "来水变化将直接影响整个水利系统的水量平衡和控制策略"
    
    # 级联效应分析
    cascade_effects:
      - effect: "水库水位波动"
        delay: 0                    # 即时影响
        magnitude: "high"
      - effect: "下游流量变化"
        delay: 300                  # 5分钟延迟
        magnitude: "medium"
      - effect: "控制策略调整"
        delay: 600                  # 10分钟延迟
        magnitude: "medium"
      - effect: "用水需求冲突"
        delay: 1800                 # 30分钟延迟
        magnitude: "low"
    
  # 适应性控制策略
  adaptive_control:
    enable: true
    strategies:
      - "dynamic_gate_scheduling"
      - "predictive_water_allocation"
      - "emergency_response_protocol"
    
    control_parameters:
      response_sensitivity: 0.8     # 响应敏感度
      adaptation_rate: 0.1          # 适应速率
      stability_margin: 0.2         # 稳定裕度