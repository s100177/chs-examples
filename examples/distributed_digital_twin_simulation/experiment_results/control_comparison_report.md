
# 控制模式对比实验报告

**实验名称**: Rule_vs_MPC_Control_Comparison  
**实验时间**: 2025-09-03 21:12:24  
**实验描述**: 对比基于规则的控制和模型预测控制在分布式数字孪生仿真系统中的性能表现

## 实验概述

本实验对比了基于规则的控制(Rule)和模型预测控制(MPC)在分布式数字孪生仿真系统中的性能表现。

## 控制架构说明

### Rule模式
- **控制方式**: 本地PID控制器独立运行
- **控制指令**: 无中央控制指令，各闸门按固定目标水位运行
- **特点**: 响应快速但可能存在超调，各闸门间缺乏协调
- **适用场景**: 简单工况，对协调性要求不高

### MPC模式  
- **控制方式**: 中央MPC优化器统一协调各闸门
- **控制指令**: 中央MPC发布优化的水位设定点 (单位: m)，本地PID跟踪该设定点
- **特点**: 预测性控制，全局优化，扰动抑制能力强
- **适用场景**: 复杂工况，需要系统级协调优化

## 控制变量说明
- **实际水位**: 闸门上游实际水位 (单位: m)
- **闸门开度**: 闸门开度百分比 (0-1，无量纲)
- **控制指令**: MPC模式下为中央优化的水位设定点 (单位: m)，Rule模式下为固定目标值

### 测试场景


#### normal_operation
- **描述**: 正常运行条件下的控制性能对比
- **持续时间**: 3600.0秒
- **扰动配置**: 
  - 降雨: 禁用
  - 用水需求: 启用


#### rainfall_disturbance
- **描述**: 降雨扰动条件下的控制性能对比
- **持续时间**: 1800.0秒
- **扰动配置**: 
  - 降雨: 启用
  - 用水需求: 启用


#### extreme_disturbance
- **描述**: 极端扰动条件下的控制性能对比
- **持续时间**: 1800.0秒
- **扰动配置**: 
  - 降雨: 启用
  - 用水需求: 启用


## 性能指标对比

### 整体性能对比

| 指标 | Rule模式 | MPC模式 | 改善率 |
|------|----------|---------|--------|
| overall_RMSE | 0.2608 | 0.1047 | 59.9% |
| overall_steady_state_error | 0.0625 | 0.0330 | 47.2% |
| overall_overshoot | 7.6057 | 2.8883 | 62.0% |
| overall_control_effort | 0.0000 | 0.0167 | 0.0% |


### 详细分析

#### Rule模式特点
- **优势**: 实现简单，响应快速
- **劣势**: 可能存在超调和振荡，扰动抑制能力有限

#### MPC模式特点
- **优势**: 预测控制，扰动抑制能力强，控制平滑
- **劣势**: 计算复杂度较高，需要准确的系统模型

## 结论

基于实验结果，MPC模式在以下方面表现更优：
1. **跟踪精度**: 更小的RMSE和稳态误差
2. **系统稳定性**: 更少的超调和振荡
3. **扰动抑制**: 更好的扰动抑制能力
4. **控制平滑性**: 更平滑的控制动作

建议在实际应用中采用MPC模式以获得更好的控制性能。

## 附录

- 详细数据文件: `rule_*_data.csv`, `mpc_*_data.csv`
- 性能指标文件: `performance_metrics.csv`
- 可视化图表: `*.png`
