任务描述：引绰济辽工程仿真与控制
请基于提供的文件和平台框架，构建一个引绰济辽工程的仿真与控制系统。本任务的核心是利用多智能体系统（MAS）架构，实现对复杂输水网络的分层分布式调度与控制。
重要任务：请首先将此提示词文档保存到 /docs/examples/ 目录下，命名为 引绰济辽工程仿真与控制提示词.md，以便后续分析和参考。
1. 总体目标
 * 分层控制：构建一个三级分层控制体系，包括指挥调度中心（中心MPC）、输水分中心（备用中心）和现地管理站（现地PID），以模拟引绰济辽工程的真实调度管理架构。
 * 联合调度：实现隧洞、管线、闸门、阀门等多个物理组件的联合调度，确保在多种工况下输水系统安全、稳定运行。
 * 数据驱动：利用工程试运行阶段的水文监测数据和关键设施运行参数，驱动仿真并校准模型参数。
 * 应急响应：模拟突发事件（如管线爆管、水质污染），测试和验证应急管理智能体的响应能力，确保系统能够快速、高效地进行应急处置。
2. 系统拓扑与物理组件
本仿真将构建一个高度还原引绰济辽工程关键环节的物理拓扑结构。为确保仿真精度和控制策略的有效性，我们将使用高保真的物理模型。
2.1 整体拓扑结构
输水系统从文得根水库取水，依次经过无压隧洞段、稳流连接池，进入压力管线，最终汇入末端高位水池。沿途设有多个分水口门和调流调压设施。
文得根水库 → 取水口 → 输水隧洞系统 → 稳流连接池 → 压力管线系统 → 末端高位水池
2.2 物理组件及其模型
为确保仿真真实性，每个物理组件应采用合适的模型进行精细模拟：
 * wendegen_reservoir：
   * 描述：模拟引绰济辽工程的水源地——文得根水利枢纽。
   * 模型：采用简化水库模型，主要关注入流、出流与库水位之间的质量平衡关系。
 * water_intake_gate：
   * 描述：取水口的弧形工作闸门。这是整个输水系统的起点控制设备。
   * 模型：其过流能力应基于附录8.7中的水位-流量-开度表，而非简化的经验公式，以确保在不同库水位下流量控制的准确性。
 * tunnel_system：
   * 描述：无压输水隧洞段，这是一个复杂的明渠（无压）水利系统，由多个渠池（输水隧洞段）和闸门构成。我们将模拟一个至少包含两个闸门和三个渠池（例如，1#隧洞、洮儿河倒虹吸、2#隧洞）的串联系统，其中闸门起到节制作用。
   * 拓扑：
     1#隧洞 → 洮儿河倒虹吸出口工作闸 → 2#隧洞 → 归流河倒虹吸出口工作闸 → 3#隧洞。
     （倒虹吸前的分水口应作为独立的分水口对象进行建模）
   * 模型：采用一维水力学模型（如圣维南方程的简化形式）进行精细模拟，能够捕捉水位波动、洪水波传播、以及沿线渗漏等动态特性。
 * diversion_outlets：
   * 描述：模拟沿线多个分水口门，如乌兰浩特、科右前旗、扎鲁特旗等，是主要的用水扰动源。
   * 模型：应作为独立的对象进行建模，其取水流量可根据用水计划（计划性扰动）或突发事件（非计划性扰动）进行调节。
 * pressure_pipeline：
   * 描述：干线工程的压力管线段，包含复杂的控制设施和监测点。其拓扑应反映多级分水口和调流调压阀的串联布局。
   * 拓扑：
     稳流连接池 → 突泉分水口 → 突泉经济开发区分水口 → 科右中旗分水口 → 在线调流调压阀 → 扎鲁特旗分水口 → 科左中旗分水口 → 末端调流调压阀 → 末端高位水池
   * 模型：采用瞬态水力学模型进行仿真，以精确模拟压力波动、水锤效应。该模型需包含：
     * 调压塔：模拟压力波动缓冲。
     * 调流调压阀：模拟在线调流调压阀和末端调流调压阀的操作，其开度由现地控制智能体调节。
 * terminal_water_pool：
   * 描述：末端高位水池，是压力管线系统的终点，其后设有多个分水口（如通辽经济开发区、科尔沁区），水位是重要的控制目标。
   * 模型：采用水库模型，考虑入流、出流和水池容量。
2.3 扰动源
 * 上游来水：文得根水库的入流，可从historical_inflow.csv中读取，也可由预测模型生成，模拟上游电站调峰调频带来的日内流量剧烈变化。
 * 分水口用水：沿线各分水口的用水量，可从通辽市和兴安盟的用水计划文件中提取，模拟计划性用水扰动。
 * 突发事件：模拟管线爆管、设备故障，这些不可预见的事件将触发应急管理智能体的响应。
3. 智能体组件与功能
请根据引绰济辽工程的调度机构和职责，配置以下智能体，并确保它们通过 MessageBus 协同工作。
 * 感知层（数字孪生）：
   * reservoir_twin_agent：监测并发布文得根水库的实时水位。
   * tunnel_twin_agent：监测并发布输水隧洞内的水位和流量。
   * pipeline_twin_agent：监测并发布压力管线的实时压力和流量。
   * terminal_pool_twin_agent：监测并发布末端高位水池的实时水位。
 * 数据与预测层：
   * csv_data_source_agent：从 historical_inflow.csv 等文件中读取数据，并注入仿真。
   * water_demand_agent：根据附件中的用水需求计划文件，模拟各分水口的计划用水。
   * inflow_forecaster：利用 historical_inflow.csv 训练模型，预测未来的入库流量，并将预测结果发送给中心调度器。
   * parameter_identification_agent：使用监测数据，在线校准 water_intake 闸门的过流参数。
 * 控制层（分层分布式）：
   * central_dispatcher：一级调度智能体（MPC）。它订阅所有关键状态和预测信息，利用 MPC 算法计算全局最优的调度方案（例如，总供水流量目标），并将其发送给下级智能体。
   * intake_gate_control_agent：三级调度智能体（PID）。它接收来自 central_dispatcher 的指令，并实时控制 water_intake 的闸门开度，确保总供水流量或坝前水位达到目标值。
   * taoriver_gate_control_agent：新增强功能，负责控制洮儿河倒虹吸出口工作闸，其控制目标是保证倒虹吸进口水位不低于324.20m。
   * guiliu_gate_control_agent：新增强功能，负责控制归流河倒虹吸出口工作闸，其控制目标是保证倒虹吸进口水位不低于320.38m。
   * online_valve_control_agent：新增强功能，负责控制在线调流调压阀。其控制目标是以阀后压力控制为主，同时兼顾流量，确保压力值在0.6MPa~0.7MPa的范围内。
   * terminal_valve_control_agent：新增强功能，负责控制末端调流调压阀。其控制目标是以流量控制为主，同时兼顾末端高位水池液位，确保水位在211.19m~213.79m的范围内。
   * emergency_agent：应急管理智能体。它订阅来自 pipeline_twin_agent 的异常压力警报。当检测到爆管等突发事件时，它会立即启动应急预案，发出紧急关阀指令，并向 central_dispatcher 报告。
4. 仿真工作流与分步示例
请拆解成最小单元的独立示例，然后再逐一组合，实现完整功能。
示例 4.1：数据驱动的仿真与模型校准
 * 目标：展示如何使用历史数据驱动仿真，并校准模型参数。
 * 任务：
   * 初始化 csv_data_source_agent，用 historical_inflow.csv 驱动 wendegen_reservoir 的入流。
   * 创建 parameter_identification_agent，并用仿真数据和真实数据（模拟）对其进行校准。
   * 验证模型参数（如闸门过流系数）是否被成功校准。
示例 4.2：水电站分层调度与电网交互
 * 目标：模拟一个水电站的分层调度与电网交互。
 * 任务：
   * 构建一个简化的水电站模型。
   * central_dispatcher 根据入库预测，制定日内的发电出力计划，并发送给 grid_communication_agent。
   * grid_communication_agent 模拟电网响应（接受或拒绝）。
   * hydropower_control_agent 根据电网的最终指令，协调多台水轮机组运行。
示例 4.3：倒虹吸水位稳定控制
 * 目标：演示 taoriver_gate_control_agent 和 guiliu_gate_control_agent 如何控制倒虹吸出口闸门，以稳定其入口水位。
 * 任务：
   * 构建一个简化的 tunnel_system，包含洮儿河和归流河倒虹吸。
   * 创建 taoriver_gate_control_agent，订阅倒虹吸入口水位，并使用 PID 控制器调节出口工作闸门。
   * 创建 guiliu_gate_control_agent，订阅归流河倒虹吸入口水位，并使用 PID 控制器调节出口工作闸门。
   * 模拟下游出流需求增加，导致入口水位下降。
   * 验证智能体如何通过减小出口闸门开度，将入口水位恢复到设定值之上。
 * 核心功能点：验证现地智能体对特定物理约束的自动控制能力。
示例 4.4：管道安全运行与应急响应
 * 目标：展示如何通过分层控制来维持管道安全，并响应突发事件。
 * 任务：
   * 构建一个包含 pressure_pipeline 和调压阀的系统。
   * pressure_control_agent 负责日常的压力稳定。
   * 模拟 pressure_pipeline 发生爆管，pipeline_twin_agent 检测到压力异常。
   * emergency_agent 立即被触发，发出紧急关阀指令，并通知 central_dispatcher。
 * 核心功能点：验证系统在突发事件下的响应速度和决策优先级。
5. 附录：关键数据与表格
5.1 隧洞沿线水位控制表 (附录8.8)
以下为隧洞沿线部分关键监测点位的控制水位数据：
序号1, 设备名称: 水位/流量计, 桩号: D1-0+220.00, 底板高程: 346.48m, 输水设计工况 (15.48 m³/s) 水位: 349.29m, 输水加大工况 (18.58 m³/s) 水位: 349.73m, 最高控制水位: 349.93m。
序号12, 设备名称: 水位/流量计, 桩号: D2-68+714.00, 底板高程: 323.65m, 输水设计工况 (15.48 m³/s) 水位: 326.46m, 输水加大工况 (18.58 m³/s) 水位: 326.90m, 最高控制水位: 327.10m。
序号14, 设备名称: 水位计, 桩号: D洮-71+253.41, 底板高程: 321.53m, 输水设计工况 (12.57 m³/s) 水位: 325.79m, 输水加大工curs) 水位: 325.82m, 最高控制水位: 325.82m。
序号15, 设备名称: 水位/流量计, 桩号: D归-79+714.64, 底板高程: 319.98m, 输水设计工况 (12.57 m³/s) 水位: 322.73m, 输水加大工况 (15.08 m³/s) 水位: 323.16m, 最高控制水位: 323.21m。
5.2 PCCP管线设计压力分段表 (附录8.9)
以下为PCCP管线设计压力分段数据：
序号1, 起点桩号: GS-183+693.93, 终点桩号:
